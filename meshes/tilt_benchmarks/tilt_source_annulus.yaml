global_parameters:
  surface_tension: 0.0
  tilt_smoothness_rigidity: 1.0
  tilt_rigidity: 0.1
  tilt_solve_mode: nested
  tilt_step_size: 0.05
  tilt_inner_steps: 25

  pin_to_circle_mode: fixed

energy_modules:
  - tilt_smoothness
  - tilt

constraint_modules:
  - pin_to_circle

definitions:
  outer_rim:
    constraints: ["pin_to_circle"]
    pin_to_circle_group: "outer"
    pin_to_circle_radius: 1.0
    pin_to_circle_normal: [0.0, 0.0, 1.0]
    pin_to_circle_point: [0.0, 0.0, 0.0]
  inner_rim:
    constraints: ["pin_to_circle"]
    pin_to_circle_group: "inner"
    pin_to_circle_radius: 0.4
    pin_to_circle_normal: [0.0, 0.0, 1.0]
    pin_to_circle_point: [0.0, 0.0, 0.0]
    tilt_fixed: true
    tilt: [1.0, 0.0]

vertices:
  # Outer rectangle (targets circle of radius R=1).
  - [-1.0, -1.0, 0.0, {preset: "outer_rim"}]
  - [ 1.0, -1.0, 0.0, {preset: "outer_rim"}]
  - [ 1.0,  1.0, 0.0, {preset: "outer_rim"}]
  - [-1.0,  1.0, 0.0, {preset: "outer_rim"}]
  # Inner rectangle (targets circle of radius r=0.4).
  - [-0.4, -0.4, 0.0, {preset: "inner_rim"}]
  - [ 0.4, -0.4, 0.0, {preset: "inner_rim"}]
  - [ 0.4,  0.4, 0.0, {preset: "inner_rim"}]
  - [-0.4,  0.4, 0.0, {preset: "inner_rim"}]

faces:
  - [3, 6, 2]
  - [3, 7, 6]
  - [2, 5, 1]
  - [2, 6, 5]
  - [1, 4, 0]
  - [1, 5, 4]
  - [0, 7, 3]
  - [0, 4, 7]

instructions: []
